# 五线谱简谱学习器 - uni-app版本

一个基于uni-app开发的音乐学习应用，支持五线谱与简谱对照学习，包含练习模式和PK对战模式。

## 功能特性

### 🎵 学习模式
- **练习模式**: 自主练习，提升音乐识谱技能
- **PK模式**: 双人对战，竞技比拼音乐知识
- **多种题目数量**: 支持15题、30题和无尽模式

### 🎹 核心功能
- **五线谱显示**: 清晰的五线谱音符展示
- **简谱对照**: 答题后显示对应的简谱
- **虚拟钢琴**: 交互式钢琴键盘选择答案
- **实时统计**: 准确率、反应时间等详细数据
- **暂停/继续**: 点击屏幕空白区域暂停游戏

### 📊 数据追踪
- 答题准确率统计
- 平均反应时间记录
- PK模式胜负比较
- 详细的学习进度分析

## 技术架构

### 框架与库
- **uni-app**: 跨平台开发框架
- **Vue.js 2.x**: 前端框架
- **Vuex**: 状态管理
- **ABC.js**: 五线谱渲染（H5平台）

### 项目结构
```
├── pages/                  # 页面目录
│   ├── index/              # 首页
│   └── learning/           # 学习页面
├── components/             # 组件目录
│   ├── Staff/              # 五线谱组件
│   ├── Jianpu/             # 简谱组件
│   └── Piano/              # 钢琴键盘组件
├── store/                  # 状态管理
├── static/                 # 静态资源
├── main.js                 # 入口文件
├── App.vue                 # 根组件
├── manifest.json           # 应用配置
└── pages.json              # 页面配置
```

## 安装与运行

### 环境要求
- Node.js 14.x 或更高版本
- HBuilderX 或 Vue CLI

### 安装依赖
```bash
npm install
```

### 开发模式

#### H5平台
```bash
npm run dev:h5
```

#### 微信小程序
```bash
npm run dev:mp-weixin
```

#### App平台
```bash
npm run dev:app-plus
```

### 生产构建

#### H5平台
```bash
npm run build:h5
```

#### 微信小程序
```bash
npm run build:mp-weixin
```

#### App平台
```bash
npm run build:app-plus
```

## 使用说明

### 开始学习
1. 在首页选择学习模式（练习模式/PK模式）
2. 选择题目数量（15题/30题/无尽模式）
3. 点击"开始学习"按钮

### 答题流程
1. 观看五线谱上的音符
2. 在虚拟钢琴上选择对应的键
3. 点击"确认"按钮提交答案
4. 查看简谱答案和统计结果
5. 点击"下一道"继续或"结束"退出

### 交互操作
- **选择答案**: 点击钢琴键
- **确认答案**: 点击确认按钮
- **暂停游戏**: 点击屏幕空白区域
- **跳过题目**: 直接点击"下一道"
- **结束练习**: 点击"结束"按钮

### PK模式
1. 玩家1完成答题后自动切换到玩家2
2. 3秒倒计时（可跳过）
3. 玩家2完成后显示对战结果
4. 比较各项数据，显示获胜者👑

## 平台兼容性

### 支持平台
- ✅ H5 (Web浏览器)
- ✅ 微信小程序
- ✅ 支付宝小程序
- ✅ Android App
- ✅ iOS App
- ✅ 百度小程序
- ✅ 头条小程序

### 功能差异
- **H5平台**: 完整功能，支持ABC.js五线谱渲染
- **小程序平台**: 使用简化的五线谱显示
- **App平台**: 完整功能，性能最佳

## 自定义配置

### 修改音符范围
在 `pages/learning/learning.vue` 中修改 `notesList` 数组：

```javascript
notesList: [
    { abc: 'X:1\nL:1/4\nK:C\nC', jianpu: '1', octave: 4, pianoKey: 'C4' },
    // 添加更多音符...
]
```

### 调整题目数量
在 `pages/index/index.vue` 中修改选项：

```javascript
selectCount(count) {
    // 添加新的题目数量选项
}
```

### 自定义样式
修改各组件的 `<style>` 部分或 `static/css/uni.css` 全局样式。

## 开发指南

### 添加新功能
1. 在对应的组件中添加UI
2. 在Vuex store中添加状态管理
3. 实现相应的业务逻辑
4. 添加样式和动画效果

### 调试技巧
- 使用 `console.log` 输出调试信息
- 在HBuilderX中使用真机调试
- 利用浏览器开发者工具调试H5版本

### 性能优化
- 合理使用组件的生命周期
- 避免在模板中使用复杂计算
- 图片资源适当压缩
- 减少不必要的状态更新

## 许可证

MIT License

## 联系方式

如有问题或建议，请通过以下方式联系：

- 项目地址: [GitHub仓库地址]
- 邮箱: [联系邮箱]

---

🎵 让学习音乐变得更有趣！ 