# 五线谱简谱学习器 - 微信小程序版

这是一个基于微信小程序的五线谱简谱对照学习应用，帮助用户学习音乐理论知识。

## 功能特性

### 🎵 学习模式
- **练习模式**：自主练习，提升技能
- **PK模式**：双人对战，竞技比拼

### 🎹 核心功能
- 五线谱显示（Canvas渲染）
- 简谱对照
- 钢琴键盘交互
- 实时反馈
- 学习统计

### 📊 统计功能
- 正确率统计
- 平均反应时间
- 答题进度跟踪
- PK模式对比

## 项目结构

```
miniprogram/
├── app.js                 # 小程序入口文件
├── app.json              # 小程序配置
├── app.wxss              # 全局样式
├── sitemap.json          # 搜索配置
├── project.config.json   # 项目配置
├── pages/                # 页面目录
│   ├── index/            # 首页
│   │   ├── index.wxml
│   │   ├── index.js
│   │   ├── index.wxss
│   │   └── index.json
│   └── learning/         # 学习页面
│       ├── learning.wxml
│       ├── learning.js
│       ├── learning.wxss
│       └── learning.json
├── components/           # 自定义组件
│   ├── piano/            # 钢琴键盘组件
│   ├── staff/            # 五线谱组件
│   ├── jianpu/           # 简谱组件
│   └── vex-staff/        # Canvas五线谱组件
├── utils/                # 工具函数
│   └── musicParser.js    # 音乐解析工具
├── libs/                 # 第三方库
│   └── vexflow-min.js    # 五线谱渲染库
└── audio/                # 音频文件
    └── notes/            # 音符音频
```

## 开发环境设置

### 前置要求
- 微信开发者工具
- 微信小程序开发账号

### 安装步骤
1. 下载并安装微信开发者工具
2. 在微信开发者工具中导入项目
3. 选择 `miniprogram` 目录作为项目根目录
4. 配置AppID（如果需要真机预览）

### 运行项目
1. 在微信开发者工具中打开项目
2. 点击"编译"按钮
3. 在模拟器中预览效果

## 技术栈

- **框架**：微信小程序原生框架
- **五线谱渲染**：Canvas + VexFlow（简化版）
- **音频播放**：微信小程序音频API
- **数据存储**：微信小程序本地存储

## 主要组件

### 1. 钢琴键盘组件 (piano)
- 88键钢琴键盘
- 支持触摸交互
- 音符高亮显示
- 音频播放反馈

### 2. 五线谱组件 (staff/vex-staff)
- Canvas渲染五线谱
- 支持多种音符显示
- 自适应布局

### 3. 简谱组件 (jianpu)
- 数字简谱显示
- 八度标记支持
- 动画效果

## 使用说明

1. **选择学习模式**：在首页选择练习模式或PK模式
2. **设置题目数量**：选择想要练习的题目数量
3. **开始学习**：
   - 观察五线谱上的音符
   - 在钢琴键盘上选择对应的键
   - 点击确认查看简谱答案
   - 继续下一题或查看学习报告

## 开发指南

### 添加新音符
在 `utils/musicParser.js` 中添加新的音符定义：

```javascript
const notes = [
  { name: 'C4', pianoKey: 'c4', staffPosition: 'line1', jianpu: '1' },
  // 添加新音符...
]
```

### 自定义样式
修改对应组件的 `.wxss` 文件来调整样式。

### 添加音频
将音频文件放入 `audio/notes/` 目录，并在组件中引用。

## 部署

1. 在微信开发者工具中点击"上传"
2. 填写版本号和项目备注
3. 在微信公众平台提交审核
4. 审核通过后发布

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 联系方式

如有问题或建议，请通过Issue联系我们。 